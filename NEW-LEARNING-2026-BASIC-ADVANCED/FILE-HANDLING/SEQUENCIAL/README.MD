
## üîë EXPLICA√á√ÉO PALAVRA POR PALAVRA

### **SELECT - Declarar Arquivo**

```cobol
       SELECT ARQUIVO-CLIENTES
           ASSIGN TO 'clientes.txt'
           ORGANIZATION IS SEQUENTIAL
           ACCESS MODE IS SEQUENTIAL
           FILE STATUS IS WS-FILE-STATUS.
```

| Cl√°usula | O que faz |
|----------|-----------|
| **SELECT** | Declara nome l√≥gico do arquivo |
| **ASSIGN TO** | Liga ao arquivo f√≠sico (disco) |
| **ORGANIZATION** | Tipo:  SEQUENTIAL, INDEXED, RELATIVE |
| **ACCESS MODE** | Como acessar:  SEQUENTIAL, RANDOM, DYNAMIC |
| **FILE STATUS** | Vari√°vel que recebe c√≥digo de erro |

---

### **FD - File Description**

```cobol
       FILE SECTION.
       FD ARQUIVO-CLIENTES.
       01 REGISTRO-CLIENTE. 
           05 CLI-ID PIC 9(5).
```

| Palavra | Significado |
|---------|-------------|
| **FD** | File Description (descreve estrutura) |
| **01** | Registro do arquivo (layout) |

---

### **OPEN - Abrir Arquivo**

```cobol
       OPEN INPUT ARQUIVO-CLIENTES.    ‚Üê Leitura
       OPEN OUTPUT ARQUIVO-CLIENTES.   ‚Üê Escrita (cria novo)
       OPEN I-O ARQUIVO-CLIENTES.      ‚Üê Leitura E escrita
       OPEN EXTEND ARQUIVO-CLIENTES.   ‚Üê Adicionar ao final
```

| Modo | O que faz |
|------|-----------|
| **INPUT** | Somente leitura |
| **OUTPUT** | Somente escrita (apaga arquivo existente!) |
| **I-O** | Leitura e escrita (arquivos indexed) |
| **EXTEND** | Adiciona registros ao final |

---

### **WRITE - Escrever Registro**

```cobol
       WRITE REGISTRO-CLIENTE.
       
       WRITE REGISTRO-CLIENTE
           INVALID KEY
               DISPLAY 'CHAVE DUPLICADA'
       END-WRITE.
```

**‚ö†Ô∏è ATEN√á√ÉO:** Use `WRITE` para **criar** registros. 

---

### **READ - Ler Registro**

```cobol
       READ ARQUIVO-CLIENTES
           AT END
               DISPLAY 'FIM DO ARQUIVO'
           NOT AT END
               DISPLAY CLI-NOME
       END-READ.
```

| Cl√°usula | Quando ocorre |
|----------|---------------|
| **AT END** | Chegou ao fim do arquivo |
| **NOT AT END** | Leu com sucesso |

---

### **CLOSE - Fechar Arquivo**

```cobol
       CLOSE ARQUIVO-CLIENTES. 
```

**üö® CR√çTICO:** SEMPRE feche arquivos ou **perde dados**!

---

### **FILE STATUS - C√≥digos de Erro**

```cobol
       01 WS-FILE-STATUS PIC XX.
```

| C√≥digo | Significado |
|--------|-------------|
| **00** | Sucesso |
| **10** | Fim do arquivo (EOF) |
| **21** | Chave duplicada |
| **23** | Registro n√£o encontrado |
| **30** | Erro permanente (arquivo n√£o existe) |
| **34** | Espa√ßo em disco insuficiente |
| **35** | Arquivo n√£o encontrado |
